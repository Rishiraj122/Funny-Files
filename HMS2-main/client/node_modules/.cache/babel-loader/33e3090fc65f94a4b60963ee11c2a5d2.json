{"ast":null,"code":"var _jsxFileName = \"/Users/sherlock/Desktop/Actual Project/HMS2-main/client/src/components/VendorDisplay.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport jwt from 'jsonwebtoken';\nimport { useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst VendorDisplay = () => {\n  _s();\n\n  const history = useHistory();\n  const item = [];\n  const [name, setName] = useState([]); // const[name,setName]=useState('');\n  // const[phone,setPtone]=useState('');\n  // const[fooditem,setFooditem]=useState('');\n  // const[payment,setPatment]=useState('');\n\n  const logout = () => {\n    window.localStorage.clear();\n    window.location.href = '/login';\n  };\n\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n\n    if (token) {\n      const user = jwt.decode(token);\n\n      if (!user) {\n        localStorage.removeItem('token');\n        history.replace('/login');\n      } else {\n        getData();\n      }\n    } else {\n      history.push('/login');\n    }\n  });\n\n  const getData = () => {\n    const token = localStorage.getItem('token');\n    const user = jwt.decode(token);\n    axios.get('http://localhost:1337/api/vendor').then(res => {\n      console.log(res);\n      setName(res.data);\n    }).catch(err => {\n      console.log(err);\n    }); // .then((response)=>response.json())\n    // .then((json)=>{\n    //     setName(json.user[0].name)\n    // })\n    // return {item}\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Vendor Details\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: name.map(vendor => {\n        /*#__PURE__*/\n        _jsxDEV(\"li\", {\n          children: vendor.name\n        }, vendor.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 9\n  }, this);\n};\n\n_s(VendorDisplay, \"RZuYe+QeVlmy+GajFuNtyK5g/Es=\", false, function () {\n  return [useHistory];\n});\n\n_c = VendorDisplay;\nexport default VendorDisplay;\n\nvar _c;\n\n$RefreshReg$(_c, \"VendorDisplay\");","map":{"version":3,"sources":["/Users/sherlock/Desktop/Actual Project/HMS2-main/client/src/components/VendorDisplay.js"],"names":["React","useEffect","useState","jwt","useHistory","VendorDisplay","history","item","name","setName","logout","window","localStorage","clear","location","href","token","getItem","user","decode","removeItem","replace","getData","push","axios","get","then","res","console","log","data","catch","err","map","vendor","id"],"mappings":";;;AAAA,OAAOA,KAAP,IAAcC,SAAd,EAAyBC,QAAzB,QAAwC,OAAxC;AACA,OAAOC,GAAP,MAAgB,cAAhB;AACA,SAASC,UAAT,QAA2B,kBAA3B;;;AAGA,MAAMC,aAAa,GAAC,MAAI;AAAA;;AACpB,QAAMC,OAAO,GAACF,UAAU,EAAxB;AACA,QAAMG,IAAI,GAAC,EAAX;AACA,QAAM,CAACC,IAAD,EAAMC,OAAN,IAAeP,QAAQ,CAAC,EAAD,CAA7B,CAHoB,CAIpB;AACA;AACA;AACA;;AAEA,QAAMQ,MAAM,GAAC,MAAI;AACbC,IAAAA,MAAM,CAACC,YAAP,CAAoBC,KAApB;AACAF,IAAAA,MAAM,CAACG,QAAP,CAAgBC,IAAhB,GAAqB,QAArB;AACH,GAHD;;AAKAd,EAAAA,SAAS,CAAC,MAAI;AACV,UAAMe,KAAK,GAACJ,YAAY,CAACK,OAAb,CAAqB,OAArB,CAAZ;;AACA,QAAGD,KAAH,EAAS;AACL,YAAME,IAAI,GAAGf,GAAG,CAACgB,MAAJ,CAAWH,KAAX,CAAb;;AACA,UAAG,CAACE,IAAJ,EAAS;AACLN,QAAAA,YAAY,CAACQ,UAAb,CAAwB,OAAxB;AACAd,QAAAA,OAAO,CAACe,OAAR,CAAgB,QAAhB;AACH,OAHD,MAGM;AACFC,QAAAA,OAAO;AACV;AACJ,KARD,MAQM;AACFhB,MAAAA,OAAO,CAACiB,IAAR,CAAa,QAAb;AACH;AACJ,GAbQ,CAAT;;AAeA,QAAMD,OAAO,GAAC,MAAI;AACd,UAAMN,KAAK,GAAGJ,YAAY,CAACK,OAAb,CAAqB,OAArB,CAAd;AACA,UAAMC,IAAI,GAAGf,GAAG,CAACgB,MAAJ,CAAWH,KAAX,CAAb;AACAQ,IAAAA,KAAK,CACJC,GADD,CACK,kCADL,EAECC,IAFD,CAEMC,GAAG,IAAE;AACPC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAlB,MAAAA,OAAO,CAACkB,GAAG,CAACG,IAAL,CAAP;AACH,KALD,EAMCC,KAND,CAMOC,GAAG,IAAE;AACRJ,MAAAA,OAAO,CAACC,GAAR,CAAYG,GAAZ;AACH,KARD,EAHc,CAYd;AACA;AACA;AACA;AACA;AACH,GAjBD;;AAkBA,sBACI;AAAA,4BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI;AAAA,gBACKxB,IAAI,CAACyB,GAAL,CAASC,MAAM,IAAE;AACd;AAAA;AAAA,oBAAqBA,MAAM,CAAC1B;AAA5B,WAAS0B,MAAM,CAACC,EAAhB;AAAA;AAAA;AAAA;AAAA;AACH,OAFA;AADL;AAAA;AAAA;AAAA;AAAA,YAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAYH,CA3DD;;GAAM9B,a;UACYD,U;;;KADZC,a;AA4DN,eAAeA,aAAf","sourcesContent":["import React,{useEffect, useState} from \"react\";\nimport jwt from 'jsonwebtoken'\nimport { useHistory } from \"react-router-dom\";\n\n\nconst VendorDisplay=()=>{\n    const history=useHistory();\n    const item=[];\n    const [name,setName]=useState([]);\n    // const[name,setName]=useState('');\n    // const[phone,setPtone]=useState('');\n    // const[fooditem,setFooditem]=useState('');\n    // const[payment,setPatment]=useState('');\n\n    const logout=()=>{\n        window.localStorage.clear();\n        window.location.href='/login';\n    }\n\n    useEffect(()=>{\n        const token=localStorage.getItem('token');\n        if(token){\n            const user = jwt.decode(token);\n            if(!user){\n                localStorage.removeItem('token');\n                history.replace('/login');\n            } else{\n                getData()\n            }\n        } else{\n            history.push('/login');\n        }\n    })\n\n    const getData=()=>{\n        const token = localStorage.getItem('token');\n        const user = jwt.decode(token);\n        axios\n        .get('http://localhost:1337/api/vendor')\n        .then(res=>{\n            console.log(res)\n            setName(res.data)\n        })\n        .catch(err=>{\n            console.log(err)\n        })\n        // .then((response)=>response.json())\n        // .then((json)=>{\n        //     setName(json.user[0].name)\n        // })\n        // return {item}\n    }\n    return(\n        <div>\n            <h1>Vendor Details</h1>\n            <ul>\n                {name.map(vendor=>{\n                    <li key={vendor.id}>{vendor.name}</li>\n                })}\n            </ul>     \n        </div>\n    )\n\n\n} \nexport default VendorDisplay"]},"metadata":{},"sourceType":"module"}